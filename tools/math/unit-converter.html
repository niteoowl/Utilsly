<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>단위 변환기 - Utilsly</title>
    <meta name="description" content="길이, 무게, 넓이, 부피 등 다양한 단위를 간편하게 변환하세요.">
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="user-profile">
                    <div class="avatar">U</div>
                    <span class="username">Utilsly</span>
                </div>
            </div>
            <nav class="sidebar-nav">
                <!-- Sidebar content generated by js/common.js -->
            </nav>
        </aside>

        <main class="main-content">
            <header class="top-bar">
                <div class="breadcrumbs">
                    <span class="breadcrumb-item">Utilsly</span>
                    <span class="separator">/</span>
                    <span class="breadcrumb-item">수학/계산</span>
                    <span class="separator">/</span>
                    <span class="breadcrumb-item current-page">단위 변환기</span>
                </div>
            </header>

            <div class="content-area">
                <div class="page-header">
                    <div class="icon-large">⚖️</div>
                    <h1>단위 변환기</h1>
                </div>

                <div class="tool-container">
                    <div style="margin-bottom: 24px;">
                        <label
                            style="font-size: 12px; font-weight: 600; color: var(--text-secondary); text-transform: uppercase;">카테고리
                            선택</label>
                        <select id="unit-category"
                            style="width: 100%; margin-top: 8px; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px;">
                            <option value="length">길이 (Length)</option>
                            <option value="weight">무게 (Weight)</option>
                            <option value="area">넓이 (Area)</option>
                        </select>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr auto 1fr; gap: 16px; align-items: center;">
                        <div class="input-group">
                            <label style="font-size: 14px; margin-bottom: 4px;">입력</label>
                            <input type="number" id="from-value" value="1"
                                style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; margin-bottom: 4px;">
                            <select id="from-unit"
                                style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px;"></select>
                        </div>
                        <div style="font-size: 24px; color: var(--text-secondary);">=</div>
                        <div class="input-group">
                            <label style="font-size: 14px; margin-bottom: 4px;">결과</label>
                            <input type="number" id="to-value" readonly
                                style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; margin-bottom: 4px; background: #f9f9f9;">
                            <select id="to-unit"
                                style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 4px;"></select>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="../../js/common.js"></script>
    <script>
        const units = {
            length: {
                meters: 1,
                kilometers: 0.001,
                centimeters: 100,
                millimeters: 1000,
                inches: 39.3701,
                feet: 3.28084,
                yards: 1.09361,
                miles: 0.000621371
            },
            weight: {
                kilograms: 1,
                grams: 1000,
                milligrams: 1000000,
                pounds: 2.20462,
                ounces: 35.274
            },
            area: {
                square_meters: 1,
                square_kilometers: 0.000001,
                square_feet: 10.7639,
                acres: 0.000247105,
                hectares: 0.0001,
                pyeong: 0.3025 // Korean Pyeong
            }
        };

        const categorySelect = document.getElementById('unit-category');
        const fromUnitSelect = document.getElementById('from-unit');
        const toUnitSelect = document.getElementById('to-unit');
        const fromValue = document.getElementById('from-value');
        const toValue = document.getElementById('to-value');

        const populateUnits = (category) => {
            const options = Object.keys(units[category]).map(unit =>
                `<option value="${unit}">${unit.replace('_', ' ').replace(/\b\w/g, l => l.toUpperCase())}</option>`
            ).join('');
            fromUnitSelect.innerHTML = options;
            toUnitSelect.innerHTML = options;

            // Set defaults
            if (category === 'length') {
                toUnitSelect.value = 'feet';
            } else if (category === 'weight') {
                toUnitSelect.value = 'pounds';
            } else if (category === 'area') {
                toUnitSelect.value = 'pyeong';
            }
        };

        const calculate = () => {
            const category = categorySelect.value;
            const from = fromUnitSelect.value;
            const to = toUnitSelect.value;
            const value = parseFloat(fromValue.value) || 0;

            const baseValue = value / units[category][from];
            const result = baseValue * units[category][to];

            toValue.value = Number.isInteger(result) ? result : result.toFixed(4).replace(/\.?0+$/, '');
        };

        categorySelect.addEventListener('change', () => {
            populateUnits(categorySelect.value);
            calculate();
        });

        fromUnitSelect.addEventListener('change', calculate);
        toUnitSelect.addEventListener('change', calculate);
        fromValue.addEventListener('input', calculate);

        populateUnits('length');
        calculate();
    </script>
</body>

</html>