<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D-Day 계산기 - Utilsly</title>
    <meta name="description" content="기념일, 시험, 여행 등 중요한 날까지 남은 날짜를 계산하세요.">
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="user-profile">
                    <div class="avatar">U</div>
                    <span class="username">Utilsly</span>
                </div>
            </div>
            <nav class="sidebar-nav">
                <!-- Sidebar content generated by js/common.js -->
            </nav>
        </aside>

        <main class="main-content">
            <header class="top-bar">
                <div class="breadcrumbs">
                    <span class="breadcrumb-item">Utilsly</span>
                    <span class="separator">/</span>
                    <span class="breadcrumb-item">날짜/시간</span>
                    <span class="separator">/</span>
                    <span class="breadcrumb-item current-page">D-Day 계산기</span>
                </div>
            </header>

            <div class="content-area">
                <div class="page-header">
                    <div class="header-icon-wrapper">
                        <span class="material-symbols-rounded">event_upcoming</span>
                    </div>
                    <h1>D-Day 계산기</h1>
                    <p class="description">중요한 날까지 남은 날짜를 계산하거나 지난 날짜를 확인하세요.</p>
                </div>

                <div class="tool-container">
                    <div style="margin-bottom: 24px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">날짜 선택</label>
                        <input type="date" id="target-date"
                            style="padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; font-size: 16px;">
                    </div>

                    <div id="result"
                        style="padding: 32px; background: var(--bg-secondary); border-radius: 8px; border: 1px solid var(--border-color); text-align: center; display: none;">
                        <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 8px;">남은 시간</div>
                        <div id="d-day-text" style="font-size: 48px; font-weight: 700; color: var(--accent-blue);">D-100
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="../../js/common.js"></script>
    <script>
        const dateInput = document.getElementById('target-date');
        const resultDiv = document.getElementById('result');
        const dDayText = document.getElementById('d-day-text');

        dateInput.addEventListener('change', () => {
            const target = new Date(dateInput.value);
            const today = new Date();

            // Reset hours to compare dates only
            target.setHours(0, 0, 0, 0);
            today.setHours(0, 0, 0, 0);

            const diffTime = target - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

            let text = '';
            if (diffDays === 0) {
                text = "D-Day";
            } else if (diffDays > 0) {
                text = `D-${diffDays}`;
            } else {
                text = `D+${Math.abs(diffDays)}`;
            }

            dDayText.textContent = text;
            resultDiv.style.display = 'block';
        });
    </script>
</body>

</html>